!function(t){var o={};function n(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=o,n.d=function(t,o,e){n.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,o){if(1&o&&(t=n(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)n.d(e,r,function(o){return t[o]}.bind(null,r));return e},n.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(o,"a",o),o},n.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},n.p="",n(n.s=1)}([function(t,o){t.exports=scene},function(t,o,n){t.exports=n(2)},function(t,o,n){"use strict";n.r(o);var e=n(0);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function i(t,o){return!o||"object"!==r(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):o}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,o){return(u=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t})(t,o)}var l={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"editor-table",label:"",name:"",property:{merge:!0,split:!0}},{type:"string",label:"data-key",name:"dataKey",property:"dataKey"},{type:"number",label:"data-index",name:"dataIndex",property:"dataIndex"}]};var a=function(t){function o(){return function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),i(this,c(o).apply(this,arguments))}var n,r,a;return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&u(t,o)}(o,Object(e["RectPath"])(e["Component"])),n=o,(r=[{key:"_drawBorder",value:function(t,o,n,r,s,i){i&&i.strokeStyle&&i.lineWidth&&i.lineDash&&(t.beginPath(),t.moveTo(o,n),t.lineTo(r,s),e.Component.drawStroke(t,i))}},{key:"_draw",value:function(t){var o=this.model,n=o.left,e=o.top,r=o.width,s=o.height,i=this.model.border||{};t.beginPath(),t.lineWidth=0,t.rect(n,e,r,s),this.drawFill(t);var c=this.parent,u=c.components.indexOf(this),l=c.columns||1,a=c.rows||1;this._drawBorder(t,n,e,n+r,e,i.top),this._drawBorder(t,n,e+s,n,e,i.left),function(t,o,n){return(t+1)%n==0}(u,0,l)&&this._drawBorder(t,n+r,e,n+r,e+s,i.right),function(t,o,n){return t>=(o-1)*n}(u,a,l)&&this._drawBorder(t,n+r,e+s,n,e+s,i.bottom)}},{key:"nature",get:function(){return l}},{key:"merged",set:function(t){this.set("merged",!!t),t&&this.set("text","")},get:function(){return this.get("merged")}},{key:"rowspan",set:function(t){this.set("rowspan",t)},get:function(){return this.get("rowspan")}},{key:"colspan",set:function(t){this.set("colspan",t)},get:function(){return this.get("colspan")}},{key:"border",get:function(){this.model.border}}])&&s(n.prototype,r),a&&s(n,a),o}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function f(t,o){return!o||"object"!==h(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):o}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,o){return(g=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t})(t,o)}["border"].forEach(function(t){return e.Component.memoize(a.prototype,t,!1)}),e.Component.register("table-cell",a);var d={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"rows",name:"rows",property:"rows"},{type:"number",label:"columns",name:"columns",property:"columns"},{type:"select",label:"data-spread-to",name:"spreadTo",property:{options:["text","data"]}}]},w={all:["top","left","bottom","right"],out:["top","left","bottom","right"],left:["left"],right:["right"],top:["top"],bottom:["bottom"],leftright:["left","right"],topbottom:["top","bottom"]},v={strokeStyle:"",lineDash:"solid",lineWidth:0},y={strokeStyle:"#999",lineDash:"solid",lineWidth:1},b=e.Layout.get("table");function C(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),e=1;e<o;e++)n[e-1]=arguments[e];for(var r in n)if(t.hasOwnProperty(n[r]))return!0}function x(t){return e.Model.compile({type:"table-cell",strokeStyle:"blue",left:0,top:0,width:1,height:1,textWrap:!0,border:k(y,"all")},t)}function O(t,o){var n=JSON.parse(JSON.stringify(t));return delete n.text,e.Model.compile(n,o)}function k(t,o){return(w[o]||[]).reduce(function(o,n){return o[n]=t,o},{})}function E(t,o,n){t&&t.set("border",Object.assign({},t.get("border")||{},k(o,n)))}function R(t,o,n,e){return 0==e||!(e%o)||-1==n.indexOf(e-1)}function _(t,o,n,e){return e==t-1||e%o==o-1||-1==n.indexOf(e+1)}function M(t,o,n,e){return e<o||-1==n.indexOf(e-o)}function S(t,o,n,e){return e>t-o-1||-1==n.indexOf(e+o)}function j(t,o){return o-t}function P(t,o){return o+t}function B(t,o){return o%t?o-1:-1}function A(t,o){return(o+1)%t?o+1:-1}function T(t,o){for(var n=[],e=0;e<o;e++)n.push(1);return n}var z={ondragmove:function(t,o,n){var e=n.textBounds,r=e.left,s=(e.top,e.width),i=(e.height,n.widths_sum),c=n.widths.slice(),u=r+c.slice(0,o+1).reduce(function(t,o){return t+o},0)/i*s,l=(n.transcoordP2S(t.x,t.y).x-u)/s*i,a=i/s*10;l=l<0?-Math.min(c[o]-a,-l):Math.min(c[o+1]-a,l),c[o]=Math.round(100*(c[o]+l))/100,c[o+1]=Math.round(100*(c[o+1]-l))/100,n.set("widths",c)}},D={ondragmove:function(t,o,n){var e=n.textBounds,r=(e.left,e.top),s=(e.width,e.height),i=n.heights_sum,c=n.heights.slice();o-=n.columns-1;var u=r+c.slice(0,o+1).reduce(function(t,o){return t+o},0)/i*s,l=(n.transcoordP2S(t.x,t.y).y-u)/s*i,a=i/s*10;l=l<0?-Math.min(c[o]-a,-l):Math.min(c[o+1]-a,l),c[o]=Math.round(100*(c[o]+l))/100,c[o+1]=Math.round(100*(c[o+1]-l))/100,n.set("heights",c)}},W=function(t){function o(){return function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),f(this,m(o).apply(this,arguments))}var n,r,s;return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&g(t,o)}(o,e["Container"]),n=o,(r=[{key:"created",value:function(){var t=this.rows*this.columns,o=this.size()-t;if(0!=o){if(o>0){var n=this._components.slice(o);this.remove(n)}else{for(var e=[],r=0;r<-o;r++)e.push(x(this.app));this.add(e)}var s=this.get("widths"),i=this.get("heights");(!s||s.length<this.columns)&&this.set("widths",this.widths),(!i||i.length<this.rows)&&this.set("heights",this.heights)}}},{key:"buildCells",value:function(t,o,n,e){var r=this;if(t<n){var s=this._components.slice(e*t),i=[];if(s.forEach(function(t){(!0===t.merged||t.rowspan>1||t.colspan>1)&&i.push(t)}),i.length>0){var c=[],u=[];i.forEach(function(t){var o,n,s;for(o=r.components.indexOf(t)%e,s=(n=Math.floor(r.components.indexOf(t)/e))*e+o+1;s;){--s;var i=r.components[s];if(i.rowspan>1||i.colspan>1){var l=r.components.indexOf(i)%e,a=r.components.indexOf(i)%e+i.colspan,h=Math.floor(r.components.indexOf(i)/e),p=Math.floor(r.components.indexOf(i)/e)+i.rowspan;o>=l&&o<a&&n>=h&&n<p&&-1==u.indexOf(s)&&(u.push(s),c.push(i))}}}),c.forEach(function(o){o.rowspan-=n-t})}this.remove(s)}var l=Math.min(t,n);if(o>e)for(var a=0;a<l;a++)for(var h=e;h<o;h++)this.insertComponentAt(x(this.app),a*o+h);else if(o<e){for(var p=[],f=0;f<l;f++)for(var m=o;m<e;m++)p.push(this.components[f*e+m]);var g=[];if(p.forEach(function(t){(!0===t.merged||t.rowspan>1||t.colspan>1)&&g.push(t)}),g.length>0){var d=[],w=[];g.forEach(function(t){var o,n,s;for(o=r.components.indexOf(t)%e,s=(n=Math.floor(r.components.indexOf(t)/e))*e+o+1;s;){--s;var i=r.components[s];if(i.rowspan>1||i.colspan>1){var c=r.components.indexOf(i)%e,u=r.components.indexOf(i)%e+i.colspan,l=Math.floor(r.components.indexOf(i)/e),a=Math.floor(r.components.indexOf(i)/e)+i.rowspan;o>=c&&o<u&&n>=l&&n<a&&-1==w.indexOf(s)&&(w.push(s),d.push(i))}}}),d.forEach(function(t){t.colspan-=e-o})}this.remove(p)}if(t>n){for(var v=[],y=n;y<t;y++)for(var b=0;b<o;b++)v.push(x(this.app));this.add(v)}this.set({widths:this.widths,heights:this.heights})}},{key:"setCellsStyle",value:function(t,o,n){var e=this,r=this.components,s=r.length,i=this.get("columns"),c=[];t.forEach(function(t){if(c.push(t),t.colspan||t.rowspan)for(var o=e.getRowColumn(t).column,n=e.getRowColumn(t).row,r=n;r<n+t.rowspan;r++)for(var s=o;s<o+t.colspan;s++)r==n&&s==o||c.push(e.components[r*e.columns+s])});var u=c.map(function(t){return r.indexOf(t)});u.forEach(function(t){var e=r[t];switch(n){case"all":E(e,o,n),R(0,i,u,t)&&E(r[B(i,t)],o,"right"),_(s,i,u,t)&&E(r[A(i,t)],o,"left"),M(0,i,u,t)&&E(r[j(i,t)],o,"bottom"),S(s,i,u,t)&&E(r[P(i,t)],o,"top");break;case"in":R(0,i,u,t)||E(e,o,"left"),_(s,i,u,t)||E(e,o,"right"),M(0,i,u,t)||E(e,o,"top"),S(s,i,u,t)||E(e,o,"bottom");break;case"out":R(0,i,u,t)&&(E(e,o,"left"),E(r[B(i,t)],o,"right")),_(s,i,u,t)&&(E(e,o,"right"),E(r[A(i,t)],o,"left")),M(0,i,u,t)&&(E(e,o,"top"),E(r[j(i,t)],o,"bottom")),S(s,i,u,t)&&(E(e,o,"bottom"),E(r[P(i,t)],o,"top"));break;case"left":R(0,i,u,t)&&(E(e,o,"left"),E(r[B(i,t)],o,"right"));break;case"right":_(s,i,u,t)&&(E(e,o,"right"),E(r[A(i,t)],o,"left"));break;case"center":R(0,i,u,t)||E(e,o,"left"),_(s,i,u,t)||E(e,o,"right");break;case"middle":M(0,i,u,t)||E(e,o,"top"),S(s,i,u,t)||E(e,o,"bottom");break;case"top":M(0,i,u,t)&&(E(e,o,"top"),E(r[j(i,t)],o,"bottom"));break;case"bottom":S(s,i,u,t)&&(E(e,o,"bottom"),E(r[P(i,t)],o,"top"));break;case"clear":E(e,v,"all"),R(0,i,u,t)&&E(r[B(i,t)],v,"right"),_(s,i,u,t)&&E(r[A(i,t)],v,"left"),M(0,i,u,t)&&E(r[j(i,t)],v,"bottom"),S(s,i,u,t)&&E(r[P(i,t)],v,"top")}})}},{key:"setCellsData",value:function(){var t=this.data;if(t){t=this.toObjectArrayValue(t)||[];var o=this.components,n=this.state.spreadTo,e=void 0===n?"text":n;o.forEach(function(o){var n=o.model.dataKey,r=o.model.dataIndex;n&&r>=0&&(o[e]=(t[r]||{})[n])})}}},{key:"getRowColumn",value:function(t){var o=this.components.indexOf(t);this.components.length;return{column:o%this.columns,row:Math.floor(o/this.columns)}}},{key:"getCellsByRow",value:function(t){return this.components.slice(t*this.columns,(t+1)*this.columns)}},{key:"getCellsByColumn",value:function(t){for(var o=[],n=0;n<this.rows;n++)o.push(this.components[this.columns*n+t]);return o}},{key:"findMergedCellByX",value:function(t){for(var o,n=[],e=0;e<this.columns;e++)(!0===(o=this.components[t*this.columns+e]).merged||o.rowspan>1||o.colspan>1)&&n.push(o);return n}},{key:"findMergedCellByY",value:function(t){for(var o,n=[],e=0;e<this.rows;e++)(!0===(o=this.components[e*this.columns+t]).merged||o.rowspan>1||o.colspan>1)&&n.push(o);return n}},{key:"mergeCells",value:function(t){var o=this,n=[];if(t.forEach(function(t){var e=o.getRowColumn(t).row;-1==n.indexOf(e)&&n.push(e)}),n.length-1!=n[n.length-1]-n[0])return!1;var e=[];if(t.forEach(function(t){var n=o.getRowColumn(t).column;-1==e.indexOf(n)&&e.push(n)}),e.length-1!=e[e.length-1]-e[0])return!1;var r=n.length,s=e.length,i=t.length;if(i!==r*s||i<2)return!1;t.sort(function(t,n){return o.getRowColumn(t).row*o.columns+o.getRowColumn(t).column-(o.getRowColumn(n).row*o.columns+o.getRowColumn(n).column)});var c=t[0];c.set({colspan:s,rowspan:r});for(var u=1;u<i;u++)t[u].merged=!0;this.root.selected=[c]}},{key:"splitCells",value:function(t){this.getRowColumn(t[0]);for(var o=t[0],n=this.components.indexOf(t[0]),e=this.components.length,r=this.components[e-1],s=e/(this.getRowColumn(r).row+1),i=0;i<o.rowspan;i++)for(var c=void 0,u=n;u<n+o.colspan;u++)c=s*i+u,this.components[c].merged=!1;o.colspan=1,o.rowspan=1}},{key:"deleteRows",value:function(t){var o=this;if(1==t[0].merged)return!1;var n=[];t.forEach(function(t){var e=o.getRowColumn(t).row;-1==n.indexOf(e)&&n.push(e)}),n.sort(function(t,o){return t-o}),n.reverse();var e=this.heights.slice();n.forEach(function(t){var n=o.findMergedCellByX(t);if(0===n.length)o.remove(o.getCellsByRow(t));else{var e=[],r=[];n.forEach(function(t){var n,s,i;for(n=o.getRowColumn(t).column,i=(s=o.getRowColumn(t).row)*o.columns+n+1;i;){--i;var c=o.components[i];if(c.rowspan>1||c.colspan>1){var u=o.getRowColumn(c).column,l=o.getRowColumn(c).column+c.colspan,a=o.getRowColumn(c).row,h=o.getRowColumn(c).row+c.rowspan;n>=u&&n<l&&s>=a&&s<h&&-1==r.indexOf(i)&&(r.push(i),e.push(c))}}}),r.forEach(function(n){var e=Math.floor(n/o.columns);t===e&&e!==o.rows-1&&o.components[n].rowspan>1?(o.components[n+o.columns].rowspan=o.components[n].rowspan-1,o.components[n+o.columns].colspan=o.components[n].colspan,o.components[n+o.columns].merged=!1,o.components[n+o.columns].set("text",o.components[n].get("text"))):o.components[n].rowspan-=1}),o.remove(o.getCellsByRow(t))}}),e.splice(n,1),this.model.rows-=n.length,this.set("heights",e)}},{key:"deleteColumns",value:function(t){var o=this;if(1==t[0].merged)return!1;var n=[];t.forEach(function(t){var e=o.getRowColumn(t).column;-1==n.indexOf(e)&&n.push(e)}),n.sort(function(t,o){return t-o}),n.reverse(),n.forEach(function(t){var n=o.widths.slice(),e=o.findMergedCellByY(t);if(0===e.length)o.remove(o.getCellsByColumn(t));else{var r=[],s=[];e.forEach(function(t){var n,e,i;for(n=o.getRowColumn(t).column,i=(e=o.getRowColumn(t).row)*o.columns+n+1;i;){--i;var c=o.components[i];if(c.rowspan>1||c.colspan>1){var u=o.getRowColumn(c).column,l=o.getRowColumn(c).column+c.colspan,a=o.getRowColumn(c).row,h=o.getRowColumn(c).row+c.rowspan;n>=u&&n<l&&e>=a&&e<h&&-1==s.indexOf(i)&&(s.push(i),r.push(c))}}}),s.forEach(function(n){var e=n%o.columns;t===e&&e!==o.columns-1&&o.components[n].colspan>1?(o.components[n+1].rowspan=o.components[n].rowspan,o.components[n+1].colspan=o.components[n].colspan-1,o.components[n+1].merged=!1,o.components[n+1].set("text",o.components[n].get("text"))):o.components[n].colspan-=1}),o.remove(o.getCellsByColumn(t))}n.splice(t,1),o.model.columns-=1,o.set("widths",n)})}},{key:"insertCellsAbove",value:function(t){var o=this,n=[];if(t.forEach(function(t){var e=o.getRowColumn(t).row;-1==n.indexOf(e)&&n.push(e)}),n.sort(function(t,o){return t-o}),n.reverse(),n.length>=2)return!1;var e=n[0],r=[],s=[];n.forEach(function(t){var i=o.findMergedCellByX(t);if(0===i.length){for(var c=0;c<o.columns;c++)s.push(O(o.components[t*o.columns+c].model,o.app));r.push(o.heights[t]),s.reverse().forEach(function(t){o.insertComponentAt(t,e*o.columns)});var u=o.heights.slice();u.splice.apply(u,[e,0].concat(r)),o.set("heights",u),o.model.rows+=n.length,o.clearCache()}else{if(n.length>1)return!1;var l=[],a=[];i.forEach(function(t){var n,e,r;for(n=o.getRowColumn(t).column,r=(e=o.getRowColumn(t).row)*o.columns+n+1;r;){--r;var s=o.components[r];if(s.rowspan>1||s.colspan>1){var i=o.getRowColumn(s).column,c=o.getRowColumn(s).column+s.colspan,u=o.getRowColumn(s).row,h=o.getRowColumn(s).row+s.rowspan;n>=i&&n<c&&e>=u&&e<h&&-1==a.indexOf(r)&&(a.push(r),l.push(s))}}}),a.forEach(function(i){if(a.length>=2)return!1;var c=Math.floor(i/o.columns),u={rowspan:o.components[i].rowspan,colspan:o.components[i].colspan,text:o.components[i].get("text"),merged:o.components[i].merged};if(c===t){for(var l=0;l<o.columns;l++)s.push(x(o.app));r.push(o.heights[t]),s.reverse().forEach(function(t){o.insertComponentAt(t,e*o.columns)}),o.components[i+o.columns].rowspan=u.rowspan,o.components[i+o.columns].colspan=u.colspan,o.components[i+o.columns].set("text",u.text),o.components[i+o.columns].merged=u.merged}else{for(var h=0;h<o.columns;h++)s.push(O(o.components[t*o.columns+h].model,o.app));r.push(o.heights[t]),s.reverse().forEach(function(t){o.insertComponentAt(t,e*o.columns)}),o.components[i].rowspan+=1}var p=o.heights.slice();p.splice.apply(p,[e,0].concat(r)),o.set("heights",p),o.model.rows+=n.length,o.clearCache()})}})}},{key:"insertCellsBelow",value:function(t){var o=this,n=[];if(t.forEach(function(t){var e=o.getRowColumn(t).row;-1==n.indexOf(e)&&n.push(e)}),n.sort(function(t,o){return t-o}),n.reverse(),n.length>=2)return!1;var e=n[n.length-1]+1,r=[],s=[];n.forEach(function(t){var n=o.findMergedCellByX(t);if(0===n.length){for(var i=0;i<o.columns;i++)s.push(O(o.components[t*o.columns+i].model,o.app));r.push(o.heights[t]),s.reverse().forEach(function(t){o.insertComponentAt(t,e*o.columns)});var c=o.heights.slice();c.splice.apply(c,[e,0].concat(r)),o.set("heights",c),o.model.rows+=1,o.clearCache()}else{var u=[],l=[];n.forEach(function(t){var n,e,r;for(n=o.getRowColumn(t).column,r=(e=o.getRowColumn(t).row)*o.columns+n+1;r;){--r;var s=o.components[r];if(s.rowspan>1||s.colspan>1){var i=o.getRowColumn(s).column,c=o.getRowColumn(s).column+s.colspan,a=o.getRowColumn(s).row,h=o.getRowColumn(s).row+s.rowspan;n>=i&&n<c&&e>=a&&e<h&&-1==l.indexOf(r)&&(l.push(r),u.push(s))}}}),l.forEach(function(n){if(l.length>=2)return!1;var i=Math.floor(n/o.columns),c=o.components[n].rowspan;o.components[n].colspan,o.components[n].get("text"),o.components[n].merged;if(i+c-1===t){for(var u=0;u<o.columns;u++)s.push(x(o.app));r.push(o.heights[t]),s.reverse().forEach(function(t){o.insertComponentAt(t,e*o.columns)})}else if(i===t){for(var a=0;a<o.columns;a++)s.push(O(o.components[t*o.columns+a].model,o.app));r.push(o.heights[t]),s.reverse().forEach(function(t){o.insertComponentAt(t,e*o.columns)}),o.components[n].rowspan+=1,o.components[n+o.columns].rowspan=1,o.components[n+o.columns].colspan=1,o.components[n+o.columns].merged=!0,o.components[n+o.columns].set("text","")}else{for(var h=0;h<o.columns;h++)s.push(O(o.components[t*o.columns+h].model,o.app));r.push(o.heights[t]),s.reverse().forEach(function(t){o.insertComponentAt(t,e*o.columns)}),o.components[n].rowspan+=1}var p=o.heights.slice();p.splice.apply(p,[e,0].concat(r)),o.set("heights",p),o.model.rows+=1,o.clearCache()})}})}},{key:"insertCellsLeft",value:function(t){var o=this,n=[];if(t.forEach(function(t){var e=o.getRowColumn(t).column;-1==n.indexOf(e)&&n.push(e)}),n.sort(function(t,o){return t-o}),n.reverse(),n.length>=2)return!1;var e=n[0],r=[],s=[];n.forEach(function(t){var i=o.findMergedCellByY(t);if(0===i.length){for(var c=0;c<o.rows;c++)s.push(O(o.components[t+o.columns*c].model,o.app));r.push(o.widths[t]);var u=o.columns,l=o.rows;s.reverse().forEach(function(t){0==l&&(l=o.rows,u++),l--,o.insertComponentAt(t,e+l*u)});var a=o.widths.slice();o.model.columns+=n.length,a.splice.apply(a,[e,0].concat(r)),o.set("widths",a)}else{var h=[],p=[];i.forEach(function(t){var n,e,r;for(n=o.getRowColumn(t).column,r=(e=o.getRowColumn(t).row)*o.columns+n+1;r;){--r;var s=o.components[r];if(s.rowspan>1||s.colspan>1){var i=o.getRowColumn(s).column,c=o.getRowColumn(s).column+s.colspan,u=o.getRowColumn(s).row,l=o.getRowColumn(s).row+s.rowspan;n>=i&&n<c&&e>=u&&e<l&&-1==p.indexOf(r)&&(p.push(r),h.push(s))}}}),p.forEach(function(i){if(p.length>=2)return!1;var c=i%o.columns;o.components[i].rowspan,o.components[i].colspan,o.components[i].get("text"),o.components[i].merged;if(c===t){for(var u=0;u<o.rows;u++)s.push(x(o.app));r.push(o.widths[t]);var l=o.columns,a=o.rows;s.reverse().forEach(function(t){0==a&&(a=o.rows,l++),a--,o.insertComponentAt(t,e+a*l)})}else{o.components[i].colspan+=1;for(var h=0;h<o.rows;h++)s.push(O(o.components[t+o.columns*h].model,o.app));r.push(o.widths[t]);var f=o.columns,m=o.rows;s.reverse().forEach(function(t){0==m&&(m=o.rows,f++),m--,o.insertComponentAt(t,e+m*f)})}var g=o.widths.slice();o.model.columns+=n.length,g.splice.apply(g,[e,0].concat(r)),o.set("widths",g)})}})}},{key:"insertCellsRight",value:function(t){var o=this,n=[];if(t.forEach(function(t){var e=o.getRowColumn(t).column;-1==n.indexOf(e)&&n.push(e)}),n.sort(function(t,o){return t-o}),n.reverse(),n.length>=2)return!1;var e=n[n.length-1]+1,r=[],s=[];n.forEach(function(t){var i=o.findMergedCellByY(t);if(0===i.length){for(var c=0;c<o.rows;c++)s.push(O(o.components[t+o.columns*c].model,o.app));r.push(o.widths[t]);var u=o.columns,l=o.rows;s.reverse().forEach(function(t){0==l&&(l=o.rows,u++),l--,o.insertComponentAt(t,e+l*u)});var a=o.widths.slice();o.model.columns+=n.length,a.splice.apply(a,[e,0].concat(r)),o.set("widths",a)}else{var h=[],p=[];i.forEach(function(t){var n,e,r;for(n=o.getRowColumn(t).column,r=(e=o.getRowColumn(t).row)*o.columns+n+1;r;){--r;var s=o.components[r];if(s.rowspan>1||s.colspan>1){var i=o.getRowColumn(s).column,c=o.getRowColumn(s).column+s.colspan,u=o.getRowColumn(s).row,l=o.getRowColumn(s).row+s.rowspan;n>=i&&n<c&&e>=u&&e<l&&-1==p.indexOf(r)&&(p.push(r),h.push(s))}}}),p.forEach(function(i){if(p.length>=2)return!1;var c=Math.floor(i/o.columns),u=i%o.columns,l=(o.components[i].rowspan,o.components[i].colspan);o.components[i].get("text"),o.components[i].merged;if(u+l-1===t){for(var a=0;a<o.rows;a++)s.push(x(o.app));r.push(o.widths[t]);var h=o.columns,f=o.rows;s.reverse().forEach(function(t){0==f&&(f=o.rows,h++),f--,o.insertComponentAt(t,e+f*h)})}else if(u===t){o.components[i].colspan+=1;for(var m=0;m<o.rows;m++)s.push(O(o.components[t+o.columns*m].model,o.app));r.push(o.widths[t]);var g=o.columns,d=o.rows;s.reverse().forEach(function(t){0==d&&(d=o.rows,g++),d--,o.insertComponentAt(t,e+d*g)}),o.components[i+c+1].rowspan=1,o.components[i+c+1].colspan=1,o.components[i+c+1].merged=!0,o.components[i+c+1].set("text","")}else{o.components[i].colspan+=1;for(var w=0;w<o.rows;w++)s.push(O(o.components[t+o.columns*w].model,o.app));r.push(o.widths[t]);var v=o.columns,y=o.rows;s.reverse().forEach(function(t){0==y&&(y=o.rows,v++),y--,o.insertComponentAt(t,e+y*v)})}var b=o.widths.slice();o.model.columns+=n.length,b.splice.apply(b,[e,0].concat(r)),o.set("widths",b)})}})}},{key:"distributeHorizontal",value:function(t){var o=this,n=[];t.forEach(function(t){var e=o.getRowColumn(t);-1==n.indexOf(e.column)&&n.push(e.column)});var e=n.reduce(function(t,n){return t+o.widths[n]},0),r=Math.round(e/n.length*100)/100,s=this.widths.slice();n.forEach(function(t){s[t]=r}),this.set("widths",s)}},{key:"distributeVertical",value:function(t){var o=this,n=[];t.forEach(function(t){var e=o.getRowColumn(t);-1==n.indexOf(e.row)&&n.push(e.row)});var e=n.reduce(function(t,n){return t+o.heights[n]},0),r=Math.round(e/n.length*100)/100,s=this.heights.slice();n.forEach(function(t){s[t]=r}),this.set("heights",s)}},{key:"toObjectArrayValue",value:function(t){if(!t||0===t.length)return null;if(!t[0].hasOwnProperty("__field1"))return t;var o={},n=[];for(var e in t[0])o[e]=t[0][e];for(var r=1;r<t.length;r++){var s={},i=t[r];for(var c in o){var u=o[c],l=i[c];s[u]=l}n.push(s)}return n}},{key:"onchange",value:function(t,o){C(t,"rows","columns")&&this.buildCells(this.get("rows"),this.get("columns"),o.hasOwnProperty("rows")?o.rows:this.get("rows"),o.hasOwnProperty("columns")?o.columns:this.get("columns")),(o.data||t.data)&&this.setCellsData()}},{key:"oncellchanged",value:function(t,o){C(t,"dataKey","dataIndex")&&this.setCellsData()}},{key:"focusible",get:function(){return!1}},{key:"widths",get:function(){var t=this.get("widths");return t?t.length<this.columns?t.concat(T(0,this.columns-t.length)):t.length>this.columns?t.slice(0,this.columns):t:T(0,this.columns)}},{key:"heights",get:function(){var t=this.get("heights");return t?t.length<this.rows?t.concat(T(0,this.rows-t.length)):t.length>this.rows?t.slice(0,this.rows):t:T(0,this.rows)}},{key:"layout",get:function(){return b}},{key:"rows",get:function(){return this.get("rows")}},{key:"columns",get:function(){return this.get("columns")}},{key:"lefts",get:function(){var t=this;return this.components.filter(function(o,n){return!(n%t.columns)})}},{key:"centers",get:function(){var t=this;return this.components.filter(function(o,n){return n%t.columns&&(n+1)%t.columns})}},{key:"rights",get:function(){var t=this;return this.components.filter(function(o,n){return!((n+1)%t.columns)})}},{key:"tops",get:function(){return this.components.slice(0,this.columns)}},{key:"middles",get:function(){return this.components.slice(this.columns,this.columns*(this.rows-1))}},{key:"bottoms",get:function(){return this.components.slice(this.columns*(this.rows-1))}},{key:"all",get:function(){return this.components}},{key:"widths_sum",get:function(){var t=this,o=this.widths;return o?o.filter(function(o,n){return n<t.columns}).reduce(function(t,o){return t+o},0):this.columns}},{key:"heights_sum",get:function(){var t=this,o=this.heights;return o?o.filter(function(o,n){return n<t.rows}).reduce(function(t,o){return t+o},0):this.rows}},{key:"nature",get:function(){return d}},{key:"controls",get:function(){var t=this.widths,o=this.heights,n=this.textBounds,e=n.width/this.widths_sum,r=n.height/this.heights_sum,s=n.left,i=n.top,c=[];return t.slice(0,this.columns-1).forEach(function(t){s+=t*e,c.push({x:s,y:n.top,handler:z})}),o.slice(0,this.rows-1).forEach(function(t){i+=t*r,c.push({x:n.left,y:i,handler:D})}),c}},{key:"eventMap",get:function(){return{"(self)":{"(descendant)":{change:this.oncellchanged}}}}}])&&p(n.prototype,r),s&&p(n,s),o}();["rows","columns","widths","heights","widths_sum","heights_sum","controls"].forEach(function(t){return e.Component.memoize(W.prototype,t,!1)}),e.Component.register("table",W),n.d(o,"Table",function(){return W})}]);
//# sourceMappingURL=things-scene-table.js.map