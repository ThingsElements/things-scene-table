!function(o){var e={};function t(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return o[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=o,t.c=e,t.d=function(o,e,n){t.o(o,e)||Object.defineProperty(o,e,{configurable:!1,enumerable:!0,get:n})},t.r=function(o){Object.defineProperty(o,"__esModule",{value:!0})},t.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(e,"a",e),e},t.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},t.p="",t(t.s=4)}([function(o,e){o.exports=scene},function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(o,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=t(0);var s={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"editor-table",label:"",name:"",property:{}},{type:"string",label:"data-key",name:"dataKey",property:"dataKey"},{type:"number",label:"data-index",name:"dataIndex",property:"dataIndex"}]};var i=function(o){function e(){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(e,(0,r.RectPath)(r.Component)),n(e,[{key:"_drawBorder",value:function(o,e,t,n,s,i){i&&i.strokeStyle&&i.lineWidth&&i.lineDash&&(o.beginPath(),o.moveTo(e,t),o.lineTo(n,s),r.Component.drawStroke(o,i))}},{key:"_draw",value:function(o){var e=this.model,t=e.left,n=e.top,r=e.width,s=e.height,i=this.model.border||{};o.beginPath(),o.lineWidth=0,o.rect(t,n,r,s),this.drawFill(o);var c=this.parent,u=c.components.indexOf(this),l=c.columns||1,a=c.rows||1;this._drawBorder(o,t,n,t+r,n,i.top),this._drawBorder(o,t,n+s,t,n,i.left),function(o,e,t){return(o+1)%t==0}(u,0,l)&&this._drawBorder(o,t+r,n,t+r,n+s,i.right),function(o,e,t){return o>=(e-1)*t}(u,a,l)&&this._drawBorder(o,t+r,n+s,t,n+s,i.bottom)}},{key:"nature",get:function(){return s}},{key:"merged",set:function(o){this.set("merged",!!o),o&&this.set("text","")},get:function(){return this.get("merged")}},{key:"rowspan",set:function(o){this.set("rowspan",o)},get:function(){return this.get("rowspan")}},{key:"colspan",set:function(o){this.set("colspan",o)},get:function(){return this.get("colspan")}},{key:"border",get:function(){this.model.border}}]),e}();e.default=i,["border"].forEach(function(o){return r.Component.memoize(i.prototype,o,!1)}),r.Component.register("table-cell",i)},function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function o(o,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),s=t(1),i=((n=s)&&n.__esModule,t(0));var c={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"rows",name:"rows",property:"rows"},{type:"number",label:"columns",name:"columns",property:"columns"}]},u={all:["top","left","bottom","right"],out:["top","left","bottom","right"],left:["left"],right:["right"],top:["top"],bottom:["bottom"],leftright:["left","right"],topbottom:["top","bottom"]},l={strokeStyle:"",lineDash:"solid",lineWidth:0},a={strokeStyle:"#999",lineDash:"solid",lineWidth:1},h=i.Layout.get("table");function p(o){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];for(var r in t)if(o.hasOwnProperty(t[r]))return!0}function f(o){return i.Model.compile({type:"table-cell",strokeStyle:"blue",left:0,top:0,width:1,height:1,textWrap:!0,border:d(a,"all")},o)}function m(o,e){var t=JSON.parse(JSON.stringify(o));return delete t.text,i.Model.compile(t,e)}function d(o,e){return(u[e]||[]).reduce(function(e,t){return e[t]=o,e},{})}function g(o,e,t){o&&o.set("border",Object.assign({},o.get("border")||{},d(e,t)))}function w(o,e,t,n){return 0==n||!(n%e)||-1==t.indexOf(n-1)}function v(o,e,t,n){return n==o-1||n%e==e-1||-1==t.indexOf(n+1)}function y(o,e,t,n){return n<e||-1==t.indexOf(n-e)}function C(o,e,t,n){return n>o-e-1||-1==t.indexOf(n+e)}function b(o,e){return e-o}function x(o,e){return e+o}function O(o,e){return e%o?e-1:-1}function k(o,e){return(e+1)%o?e+1:-1}function E(o,e){for(var t=[],n=0;n<e;n++)t.push(1);return t}var R={ondragmove:function(o,e,t){var n=t.textBounds,r=n.left,s=(n.top,n.width),i=(n.height,t.widths_sum),c=t.widths.slice(),u=r+c.slice(0,e+1).reduce(function(o,e){return o+e},0)/i*s,l=(t.transcoordP2S(o.x,o.y).x-u)/s*i,a=i/s*10;l=l<0?-Math.min(c[e]-a,-l):Math.min(c[e+1]-a,l),c[e]=Math.round(100*(c[e]+l))/100,c[e+1]=Math.round(100*(c[e+1]-l))/100,t.set("widths",c)}},_={ondragmove:function(o,e,t){var n=t.textBounds,r=(n.left,n.top),s=(n.width,n.height),i=t.heights_sum,c=t.heights.slice();e-=t.columns-1;var u=r+c.slice(0,e+1).reduce(function(o,e){return o+e},0)/i*s,l=(t.transcoordP2S(o.x,o.y).y-u)/s*i,a=i/s*10;l=l<0?-Math.min(c[e]-a,-l):Math.min(c[e+1]-a,l),c[e]=Math.round(100*(c[e]+l))/100,c[e+1]=Math.round(100*(c[e+1]-l))/100,t.set("heights",c)}},M=function(o){function e(){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(e,i.Container),r(e,[{key:"created",value:function(){var o=this.rows*this.columns,e=this.size()-o;if(0!=e){if(e>0){var t=this._components.slice(e);this.remove(t)}else{for(var n=[],r=0;r<-e;r++)n.push(f(this.app));this.add(n)}var s=this.get("widths"),i=this.get("heights");(!s||s.length<this.columns)&&this.set("widths",this.widths),(!i||i.length<this.rows)&&this.set("heights",this.heights)}}},{key:"buildCells",value:function(o,e,t,n){var r=this;if(o<t){var s=this._components.slice(n*o),i=[];if(s.forEach(function(o){(!0===o.merged||o.rowspan>1||o.colspan>1)&&i.push(o)}),i.length>0){var c=[],u=[];i.forEach(function(o){var e,t,s=void 0;for(e=r.components.indexOf(o)%n,s=(t=Math.floor(r.components.indexOf(o)/n))*n+e+1;s;){--s;var i=r.components[s];if(i.rowspan>1||i.colspan>1){var l=r.components.indexOf(i)%n,a=r.components.indexOf(i)%n+i.colspan,h=Math.floor(r.components.indexOf(i)/n),p=Math.floor(r.components.indexOf(i)/n)+i.rowspan;e>=l&&e<a&&t>=h&&t<p&&-1==u.indexOf(s)&&(u.push(s),c.push(i))}}}),c.forEach(function(e){e.rowspan-=t-o})}this.remove(s)}var l=Math.min(o,t);if(e>n)for(var a=0;a<l;a++)for(var h=n;h<e;h++)this.insertComponentAt(f(this.app),a*e+h);else if(e<n){for(var p=[],m=0;m<l;m++)for(var d=e;d<n;d++)p.push(this.components[m*n+d]);var g=[];if(p.forEach(function(o){(!0===o.merged||o.rowspan>1||o.colspan>1)&&g.push(o)}),g.length>0){var w=[],v=[];g.forEach(function(o){var e,t,s=void 0;for(e=r.components.indexOf(o)%n,s=(t=Math.floor(r.components.indexOf(o)/n))*n+e+1;s;){--s;var i=r.components[s];if(i.rowspan>1||i.colspan>1){var c=r.components.indexOf(i)%n,u=r.components.indexOf(i)%n+i.colspan,l=Math.floor(r.components.indexOf(i)/n),a=Math.floor(r.components.indexOf(i)/n)+i.rowspan;e>=c&&e<u&&t>=l&&t<a&&-1==v.indexOf(s)&&(v.push(s),w.push(i))}}}),w.forEach(function(o){o.colspan-=n-e})}this.remove(p)}if(o>t){for(var y=[],C=t;C<o;C++)for(var b=0;b<e;b++)y.push(f(this.app));this.add(y)}this.set({widths:this.widths,heights:this.heights})}},{key:"setCellsStyle",value:function(o,e,t){var n=this,r=this.components,s=r.length,i=this.get("columns"),c=[];o.forEach(function(o){if(c.push(o),o.colspan||o.rowspan)for(var e=n.getRowColumn(o).column,t=n.getRowColumn(o).row,r=t;r<t+o.rowspan;r++)for(var s=e;s<e+o.colspan;s++)r==t&&s==e||c.push(n.components[r*n.columns+s])});var u=c.map(function(o){return r.indexOf(o)});u.forEach(function(o){var n=r[o];switch(t){case"all":g(n,e,t),w(0,i,u,o)&&g(r[O(i,o)],e,"right"),v(s,i,u,o)&&g(r[k(i,o)],e,"left"),y(0,i,u,o)&&g(r[b(i,o)],e,"bottom"),C(s,i,u,o)&&g(r[x(i,o)],e,"top");break;case"in":w(0,i,u,o)||g(n,e,"left"),v(s,i,u,o)||g(n,e,"right"),y(0,i,u,o)||g(n,e,"top"),C(s,i,u,o)||g(n,e,"bottom");break;case"out":w(0,i,u,o)&&(g(n,e,"left"),g(r[O(i,o)],e,"right")),v(s,i,u,o)&&(g(n,e,"right"),g(r[k(i,o)],e,"left")),y(0,i,u,o)&&(g(n,e,"top"),g(r[b(i,o)],e,"bottom")),C(s,i,u,o)&&(g(n,e,"bottom"),g(r[x(i,o)],e,"top"));break;case"left":w(0,i,u,o)&&(g(n,e,"left"),g(r[O(i,o)],e,"right"));break;case"right":v(s,i,u,o)&&(g(n,e,"right"),g(r[k(i,o)],e,"left"));break;case"center":w(0,i,u,o)||g(n,e,"left"),v(s,i,u,o)||g(n,e,"right");break;case"middle":y(0,i,u,o)||g(n,e,"top"),C(s,i,u,o)||g(n,e,"bottom");break;case"top":y(0,i,u,o)&&(g(n,e,"top"),g(r[b(i,o)],e,"bottom"));break;case"bottom":C(s,i,u,o)&&(g(n,e,"bottom"),g(r[x(i,o)],e,"top"));break;case"clear":g(n,l,"all"),w(0,i,u,o)&&g(r[O(i,o)],l,"right"),v(s,i,u,o)&&g(r[k(i,o)],l,"left"),y(0,i,u,o)&&g(r[b(i,o)],l,"bottom"),C(s,i,u,o)&&g(r[x(i,o)],l,"top")}})}},{key:"setCellsData",value:function(){var o=this.data;if(o){o=this.toObjectArrayValue(o)||[];var e=this.components;this.get("columns");e.forEach(function(e){var t=e.model.dataKey,n=e.model.dataIndex;t&&n>=0&&(e.value=(o[n]||{})[t])})}}},{key:"getRowColumn",value:function(o){var e=this.components.indexOf(o);this.components.length;return{column:e%this.columns,row:Math.floor(e/this.columns)}}},{key:"getCellsByRow",value:function(o){return this.components.slice(o*this.columns,(o+1)*this.columns)}},{key:"getCellsByColumn",value:function(o){for(var e=[],t=0;t<this.rows;t++)e.push(this.components[this.columns*t+o]);return e}},{key:"findMergedCellByX",value:function(o){for(var e=[],t=void 0,n=0;n<this.columns;n++)(!0===(t=this.components[o*this.columns+n]).merged||t.rowspan>1||t.colspan>1)&&e.push(t);return e}},{key:"findMergedCellByY",value:function(o){for(var e=[],t=void 0,n=0;n<this.rows;n++)(!0===(t=this.components[n*this.columns+o]).merged||t.rowspan>1||t.colspan>1)&&e.push(t);return e}},{key:"mergeCells",value:function(o){var e=this,t=[];if(o.forEach(function(o){var n=e.getRowColumn(o).row;-1==t.indexOf(n)&&t.push(n)}),t.length-1!=t[t.length-1]-t[0])return!1;var n=[];if(o.forEach(function(o){var t=e.getRowColumn(o).column;-1==n.indexOf(t)&&n.push(t)}),n.length-1!=n[n.length-1]-n[0])return!1;var r=t.length,s=n.length,i=o.length;if(i!==r*s||i<2)return!1;o.sort(function(o,t){return e.getRowColumn(o).row*e.columns+e.getRowColumn(o).column-(e.getRowColumn(t).row*e.columns+e.getRowColumn(t).column)});var c=o[0];c.set({colspan:s,rowspan:r});for(var u=1;u<i;u++)o[u].merged=!0;this.root.selected=[c]}},{key:"splitCells",value:function(o){this.getRowColumn(o[0]);for(var e=o[0],t=this.components.indexOf(o[0]),n=this.components.length,r=this.components[n-1],s=n/(this.getRowColumn(r).row+1),i=0;i<e.rowspan;i++)for(var c=void 0,u=t;u<t+e.colspan;u++)c=s*i+u,this.components[c].merged=!1;e.colspan=1,e.rowspan=1}},{key:"deleteRows",value:function(o){var e=this;if(1==o[0].merged)return!1;var t=[];o.forEach(function(o){var n=e.getRowColumn(o).row;-1==t.indexOf(n)&&t.push(n)}),t.sort(function(o,e){return o-e}),t.reverse();var n=this.heights.slice();t.forEach(function(o){var t=e.findMergedCellByX(o);if(0===t.length)e.remove(e.getCellsByRow(o));else{var n=[],r=[];t.forEach(function(o){var t,s,i=void 0;for(t=e.getRowColumn(o).column,i=(s=e.getRowColumn(o).row)*e.columns+t+1;i;){--i;var c=e.components[i];if(c.rowspan>1||c.colspan>1){var u=e.getRowColumn(c).column,l=e.getRowColumn(c).column+c.colspan,a=e.getRowColumn(c).row,h=e.getRowColumn(c).row+c.rowspan;t>=u&&t<l&&s>=a&&s<h&&-1==r.indexOf(i)&&(r.push(i),n.push(c))}}}),r.forEach(function(t){var n=Math.floor(t/e.columns);o===n&&n!==e.rows-1&&e.components[t].rowspan>1?(e.components[t+e.columns].rowspan=e.components[t].rowspan-1,e.components[t+e.columns].colspan=e.components[t].colspan,e.components[t+e.columns].merged=!1,e.components[t+e.columns].set("text",e.components[t].get("text"))):e.components[t].rowspan-=1}),e.remove(e.getCellsByRow(o))}}),n.splice(t,1),this.model.rows-=t.length,this.set("heights",n)}},{key:"deleteColumns",value:function(o){var e=this;if(1==o[0].merged)return!1;var t=[];o.forEach(function(o){var n=e.getRowColumn(o).column;-1==t.indexOf(n)&&t.push(n)}),t.sort(function(o,e){return o-e}),t.reverse(),t.forEach(function(o){var t=e.widths.slice(),n=e.findMergedCellByY(o);if(0===n.length)e.remove(e.getCellsByColumn(o));else{var r=[],s=[];n.forEach(function(o){var t,n,i=void 0;for(t=e.getRowColumn(o).column,i=(n=e.getRowColumn(o).row)*e.columns+t+1;i;){--i;var c=e.components[i];if(c.rowspan>1||c.colspan>1){var u=e.getRowColumn(c).column,l=e.getRowColumn(c).column+c.colspan,a=e.getRowColumn(c).row,h=e.getRowColumn(c).row+c.rowspan;t>=u&&t<l&&n>=a&&n<h&&-1==s.indexOf(i)&&(s.push(i),r.push(c))}}}),s.forEach(function(t){var n=t%e.columns;o===n&&n!==e.columns-1&&e.components[t].colspan>1?(e.components[t+1].rowspan=e.components[t].rowspan,e.components[t+1].colspan=e.components[t].colspan-1,e.components[t+1].merged=!1,e.components[t+1].set("text",e.components[t].get("text"))):e.components[t].colspan-=1}),e.remove(e.getCellsByColumn(o))}t.splice(o,1),e.model.columns-=1,e.set("widths",t)})}},{key:"insertCellsAbove",value:function(o){var e=this,t=[];if(o.forEach(function(o){var n=e.getRowColumn(o).row;-1==t.indexOf(n)&&t.push(n)}),t.sort(function(o,e){return o-e}),t.reverse(),t.length>=2)return!1;var n=t[0],r=[],s=[];t.forEach(function(o){var i=e.findMergedCellByX(o);if(0===i.length){for(var c=0;c<e.columns;c++)s.push(m(e.components[o*e.columns+c].model,e.app));r.push(e.heights[o]),s.reverse().forEach(function(o){e.insertComponentAt(o,n*e.columns)});var u=e.heights.slice();u.splice.apply(u,[n,0].concat(r)),e.set("heights",u),e.model.rows+=t.length,e.clearCache()}else{if(t.length>1)return!1;var l=[],a=[];i.forEach(function(o){var t,n,r=void 0;for(t=e.getRowColumn(o).column,r=(n=e.getRowColumn(o).row)*e.columns+t+1;r;){--r;var s=e.components[r];if(s.rowspan>1||s.colspan>1){var i=e.getRowColumn(s).column,c=e.getRowColumn(s).column+s.colspan,u=e.getRowColumn(s).row,h=e.getRowColumn(s).row+s.rowspan;t>=i&&t<c&&n>=u&&n<h&&-1==a.indexOf(r)&&(a.push(r),l.push(s))}}}),a.forEach(function(i){if(a.length>=2)return!1;var c=Math.floor(i/e.columns),u={rowspan:e.components[i].rowspan,colspan:e.components[i].colspan,text:e.components[i].get("text"),merged:e.components[i].merged};if(c===o){for(var l=0;l<e.columns;l++)s.push(f(e.app));r.push(e.heights[o]),s.reverse().forEach(function(o){e.insertComponentAt(o,n*e.columns)}),e.components[i+e.columns].rowspan=u.rowspan,e.components[i+e.columns].colspan=u.colspan,e.components[i+e.columns].set("text",u.text),e.components[i+e.columns].merged=u.merged}else{for(var h=0;h<e.columns;h++)s.push(m(e.components[o*e.columns+h].model,e.app));r.push(e.heights[o]),s.reverse().forEach(function(o){e.insertComponentAt(o,n*e.columns)}),e.components[i].rowspan+=1}var p=e.heights.slice();p.splice.apply(p,[n,0].concat(r)),e.set("heights",p),e.model.rows+=t.length,e.clearCache()})}})}},{key:"insertCellsBelow",value:function(o){var e=this,t=[];if(o.forEach(function(o){var n=e.getRowColumn(o).row;-1==t.indexOf(n)&&t.push(n)}),t.sort(function(o,e){return o-e}),t.reverse(),t.length>=2)return!1;var n=t[t.length-1]+1,r=[],s=[];t.forEach(function(o){var t=e.findMergedCellByX(o);if(0===t.length){for(var i=0;i<e.columns;i++)s.push(m(e.components[o*e.columns+i].model,e.app));r.push(e.heights[o]),s.reverse().forEach(function(o){e.insertComponentAt(o,n*e.columns)});var c=e.heights.slice();c.splice.apply(c,[n,0].concat(r)),e.set("heights",c),e.model.rows+=1,e.clearCache()}else{var u=[],l=[];t.forEach(function(o){var t,n,r=void 0;for(t=e.getRowColumn(o).column,r=(n=e.getRowColumn(o).row)*e.columns+t+1;r;){--r;var s=e.components[r];if(s.rowspan>1||s.colspan>1){var i=e.getRowColumn(s).column,c=e.getRowColumn(s).column+s.colspan,a=e.getRowColumn(s).row,h=e.getRowColumn(s).row+s.rowspan;t>=i&&t<c&&n>=a&&n<h&&-1==l.indexOf(r)&&(l.push(r),u.push(s))}}}),l.forEach(function(t){if(l.length>=2)return!1;var i=Math.floor(t/e.columns),c=e.components[t].rowspan;e.components[t].colspan,e.components[t].get("text"),e.components[t].merged;if(i+c-1===o){for(var u=0;u<e.columns;u++)s.push(f(e.app));r.push(e.heights[o]),s.reverse().forEach(function(o){e.insertComponentAt(o,n*e.columns)})}else if(i===o){for(var a=0;a<e.columns;a++)s.push(m(e.components[o*e.columns+a].model,e.app));r.push(e.heights[o]),s.reverse().forEach(function(o){e.insertComponentAt(o,n*e.columns)}),e.components[t].rowspan+=1,e.components[t+e.columns].rowspan=1,e.components[t+e.columns].colspan=1,e.components[t+e.columns].merged=!0,e.components[t+e.columns].set("text","")}else{for(var h=0;h<e.columns;h++)s.push(m(e.components[o*e.columns+h].model,e.app));r.push(e.heights[o]),s.reverse().forEach(function(o){e.insertComponentAt(o,n*e.columns)}),e.components[t].rowspan+=1}var p=e.heights.slice();p.splice.apply(p,[n,0].concat(r)),e.set("heights",p),e.model.rows+=1,e.clearCache()})}})}},{key:"insertCellsLeft",value:function(o){var e=this,t=[];if(o.forEach(function(o){var n=e.getRowColumn(o).column;-1==t.indexOf(n)&&t.push(n)}),t.sort(function(o,e){return o-e}),t.reverse(),t.length>=2)return!1;var n=t[0],r=[],s=[];t.forEach(function(o){var i=e.findMergedCellByY(o);if(0===i.length){for(var c=0;c<e.rows;c++)s.push(m(e.components[o+e.columns*c].model,e.app));r.push(e.widths[o]);var u=e.columns,l=e.rows;s.reverse().forEach(function(o){0==l&&(l=e.rows,u++),l--,e.insertComponentAt(o,n+l*u)});var a=e.widths.slice();e.model.columns+=t.length,a.splice.apply(a,[n,0].concat(r)),e.set("widths",a)}else{var h=[],p=[];i.forEach(function(o){var t,n,r=void 0;for(t=e.getRowColumn(o).column,r=(n=e.getRowColumn(o).row)*e.columns+t+1;r;){--r;var s=e.components[r];if(s.rowspan>1||s.colspan>1){var i=e.getRowColumn(s).column,c=e.getRowColumn(s).column+s.colspan,u=e.getRowColumn(s).row,l=e.getRowColumn(s).row+s.rowspan;t>=i&&t<c&&n>=u&&n<l&&-1==p.indexOf(r)&&(p.push(r),h.push(s))}}}),p.forEach(function(i){if(p.length>=2)return!1;var c=i%e.columns;e.components[i].rowspan,e.components[i].colspan,e.components[i].get("text"),e.components[i].merged;if(c===o){for(var u=0;u<e.rows;u++)s.push(f(e.app));r.push(e.widths[o]);var l=e.columns,a=e.rows;s.reverse().forEach(function(o){0==a&&(a=e.rows,l++),a--,e.insertComponentAt(o,n+a*l)})}else{e.components[i].colspan+=1;for(var h=0;h<e.rows;h++)s.push(m(e.components[o+e.columns*h].model,e.app));r.push(e.widths[o]);var d=e.columns,g=e.rows;s.reverse().forEach(function(o){0==g&&(g=e.rows,d++),g--,e.insertComponentAt(o,n+g*d)})}var w=e.widths.slice();e.model.columns+=t.length,w.splice.apply(w,[n,0].concat(r)),e.set("widths",w)})}})}},{key:"insertCellsRight",value:function(o){var e=this,t=[];if(o.forEach(function(o){var n=e.getRowColumn(o).column;-1==t.indexOf(n)&&t.push(n)}),t.sort(function(o,e){return o-e}),t.reverse(),t.length>=2)return!1;var n=t[t.length-1]+1,r=[],s=[];t.forEach(function(o){var i=e.findMergedCellByY(o);if(0===i.length){for(var c=0;c<e.rows;c++)s.push(m(e.components[o+e.columns*c].model,e.app));r.push(e.widths[o]);var u=e.columns,l=e.rows;s.reverse().forEach(function(o){0==l&&(l=e.rows,u++),l--,e.insertComponentAt(o,n+l*u)});var a=e.widths.slice();e.model.columns+=t.length,a.splice.apply(a,[n,0].concat(r)),e.set("widths",a)}else{var h=[],p=[];i.forEach(function(o){var t,n,r=void 0;for(t=e.getRowColumn(o).column,r=(n=e.getRowColumn(o).row)*e.columns+t+1;r;){--r;var s=e.components[r];if(s.rowspan>1||s.colspan>1){var i=e.getRowColumn(s).column,c=e.getRowColumn(s).column+s.colspan,u=e.getRowColumn(s).row,l=e.getRowColumn(s).row+s.rowspan;t>=i&&t<c&&n>=u&&n<l&&-1==p.indexOf(r)&&(p.push(r),h.push(s))}}}),p.forEach(function(i){if(p.length>=2)return!1;var c=Math.floor(i/e.columns),u=i%e.columns,l=(e.components[i].rowspan,e.components[i].colspan);e.components[i].get("text"),e.components[i].merged;if(u+l-1===o){for(var a=0;a<e.rows;a++)s.push(f(e.app));r.push(e.widths[o]);var h=e.columns,d=e.rows;s.reverse().forEach(function(o){0==d&&(d=e.rows,h++),d--,e.insertComponentAt(o,n+d*h)})}else if(u===o){e.components[i].colspan+=1;for(var g=0;g<e.rows;g++)s.push(m(e.components[o+e.columns*g].model,e.app));r.push(e.widths[o]);var w=e.columns,v=e.rows;s.reverse().forEach(function(o){0==v&&(v=e.rows,w++),v--,e.insertComponentAt(o,n+v*w)}),e.components[i+c+1].rowspan=1,e.components[i+c+1].colspan=1,e.components[i+c+1].merged=!0,e.components[i+c+1].set("text","")}else{e.components[i].colspan+=1;for(var y=0;y<e.rows;y++)s.push(m(e.components[o+e.columns*y].model,e.app));r.push(e.widths[o]);var C=e.columns,b=e.rows;s.reverse().forEach(function(o){0==b&&(b=e.rows,C++),b--,e.insertComponentAt(o,n+b*C)})}var x=e.widths.slice();e.model.columns+=t.length,x.splice.apply(x,[n,0].concat(r)),e.set("widths",x)})}})}},{key:"distributeHorizontal",value:function(o){var e=this,t=[];o.forEach(function(o){var n=e.getRowColumn(o);-1==t.indexOf(n.column)&&t.push(n.column)});var n=t.reduce(function(o,t){return o+e.widths[t]},0),r=Math.round(n/t.length*100)/100,s=this.widths.slice();t.forEach(function(o){s[o]=r}),this.set("widths",s)}},{key:"distributeVertical",value:function(o){var e=this,t=[];o.forEach(function(o){var n=e.getRowColumn(o);-1==t.indexOf(n.row)&&t.push(n.row)});var n=t.reduce(function(o,t){return o+e.heights[t]},0),r=Math.round(n/t.length*100)/100,s=this.heights.slice();t.forEach(function(o){s[o]=r}),this.set("heights",s)}},{key:"toObjectArrayValue",value:function(o){if(!o||0===o.length)return null;if(!o[0].hasOwnProperty("__field1"))return o;var e={},t=[];for(var n in o[0])e[n]=o[0][n];for(var r=1;r<o.length;r++){var s={},i=o[r];for(var c in e){var u=e[c],l=i[c];s[u]=l}t.push(s)}return t}},{key:"onchange",value:function(o,e){p(o,"rows","columns")&&this.buildCells(this.get("rows"),this.get("columns"),e.hasOwnProperty("rows")?e.rows:this.get("rows"),e.hasOwnProperty("columns")?e.columns:this.get("columns")),(e.data||o.data)&&this.setCellsData()}},{key:"oncellchanged",value:function(o,e){p(o,"dataKey","dataIndex")&&this.setCellsData()}},{key:"focusible",get:function(){return!1}},{key:"widths",get:function(){var o=this.get("widths");return o?o.length<this.columns?o.concat(E(0,this.columns-o.length)):o.length>this.columns?o.slice(0,this.columns):o:E(0,this.columns)}},{key:"heights",get:function(){var o=this.get("heights");return o?o.length<this.rows?o.concat(E(0,this.rows-o.length)):o.length>this.rows?o.slice(0,this.rows):o:E(0,this.rows)}},{key:"layout",get:function(){return h}},{key:"rows",get:function(){return this.get("rows")}},{key:"columns",get:function(){return this.get("columns")}},{key:"lefts",get:function(){var o=this;return this.components.filter(function(e,t){return!(t%o.columns)})}},{key:"centers",get:function(){var o=this;return this.components.filter(function(e,t){return t%o.columns&&(t+1)%o.columns})}},{key:"rights",get:function(){var o=this;return this.components.filter(function(e,t){return!((t+1)%o.columns)})}},{key:"tops",get:function(){return this.components.slice(0,this.columns)}},{key:"middles",get:function(){return this.components.slice(this.columns,this.columns*(this.rows-1))}},{key:"bottoms",get:function(){return this.components.slice(this.columns*(this.rows-1))}},{key:"all",get:function(){return this.components}},{key:"widths_sum",get:function(){var o=this,e=this.widths;return e?e.filter(function(e,t){return t<o.columns}).reduce(function(o,e){return o+e},0):this.columns}},{key:"heights_sum",get:function(){var o=this,e=this.heights;return e?e.filter(function(e,t){return t<o.rows}).reduce(function(o,e){return o+e},0):this.rows}},{key:"nature",get:function(){return c}},{key:"controls",get:function(){var o=this.widths,e=this.heights,t=this.textBounds,n=t.width/this.widths_sum,r=t.height/this.heights_sum,s=t.left,i=t.top,c=[];return o.slice(0,this.columns-1).forEach(function(o){s+=o*n,c.push({x:s,y:t.top,handler:R})}),e.slice(0,this.rows-1).forEach(function(o){i+=o*r,c.push({x:t.left,y:i,handler:_})}),c}},{key:"eventMap",get:function(){return{"(self)":{"(descendant)":{change:this.oncellchanged}}}}}]),e}();e.default=M,["rows","columns","widths","heights","widths_sum","heights_sum","controls"].forEach(function(o){return i.Component.memoize(M.prototype,o,!1)}),i.Component.register("table",M)},function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(2);Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return(o=n,o&&o.__esModule?o:{default:o}).default;var o}})},function(o,e,t){o.exports=t(3)}]);
//# sourceMappingURL=things-scene-table.js.map